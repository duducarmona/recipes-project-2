<main id="recipe">

  <h1>{{recipe.title}}</h1>
  <a href="/recipes/{{recipe.id}}/update">
    <img src="/images/edit-icon-20.png" alt="edit icon" />
  </a>
  <form action="/recipes/{{recipe.id}}/delete" method="post">
    <button class="delete-button" type="button"><img src="/images/trash-icon-20.png" alt="trash icon"/></button>
  </form>
  <div class="recipe-card">
    <div class="recipe-image-container">
      <img class="recipe-image" src="{{recipe.image}}" />
    </div>
    <div>
      <span><strong>Ingredients</strong></span>
      <div class="ingredient-list">
        {{#each recipe.ingredients}}
        {{this.ingredient.name}}
        {{this.amount}}
        {{this.unit}}
        {{/each}}
      </div>
      <span><strong>Instructions</strong></span>
      <div class="instructions">
        {{#each recipe.instructions}}
        {{this.number}}
        {{this.step}}
        {{/each}}
      </div>
    </div>
  </div>
</main>
  
{{#each messages}}
<div id="message">{{this}}</div>
{{/each}}

{{#if error}}
<div id="error-message">{{error}}</div>
{{/if}}

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const deleteButton = document.querySelector('.delete-button');
    deleteButton.addEventListener('click', () => {
      let confirmDelete = confirm('OK to delete?');
      if (confirmDelete) {
        deleteButton.parentNode.submit();
      }
    });
  });
</script>